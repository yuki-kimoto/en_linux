<h2>「Mojolicious::Lite」から「Mojolicious」へ成長させるプロセス その1「テンプレートの外だし」</h2>

Mojolicious::Liteで書いたコードは、簡単にMojoliciousにアップグレードできる。その手順を、少しづつ書いていこう。

Mojolicious::Liteは簡単だけれど、少し大きくなると、非常に見通しが悪くなる。そんなときは、見通しのよいMojoliciousに、段階的にチェンジ!

<pre>
use Mojolicious::Lite;

get '/' => sub {
  my $self = shift;
  $self->render('/index');
};
get '/foo' => sub {
  my $self = shift;
  $self->render('/foo');
};
app->start;

__DATA__

@@ index.html
Index

@@ foo.html
Foo
</pre>

<h4> テンプレートの外だし</h4>

上記のMojolicious::Liteのテンプレートは、埋め込みのテンプレートになっているが、これを、templatesディレクトリに外だししてくれるコマンドがある

<pre>
./myapp.pl inflate
</pre>

このコマンドを実行すると、__DATA__セクションのテンプレートがすべて、templatesディレクトリ以下に、出力される。

そして、Mojolicious::Liteにある__DATA__セクションは消してしまおう。

<pre>
use Mojolicious::Lite;

get '/' => sub {
  my $self = shift;
  $self->render('/index');
};
get '/foo' => sub {
  my $self = shift;
  $self->render('/foo');
};
app->start;

</pre>

まずはこれが第一段階。
