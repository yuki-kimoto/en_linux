<h2>bash</h2>

　<strong>bash</strong>に関する情報はこちらに記載します。

##bashの設定ファイル

　bashの設定ファイルはホームディレクトリの.bashrcと.bash_profileです。viコマンドで設定ファイルを編集することができます。

```bash:
# .bashrcを編集する場合
vi ~/.bashrc

# .bash_profileを編集する場合
vi ~/.bash_profile
```

　.bashrcと.bash_profileの違いは.bashrcがbashを起動したときに読み込まれるのに対して、.bash_profileはログイン時に読み込まれることです。

　.bashrcでは環境変数の設定などが行われることが多いようです。bashをカスタマイズしたい場合(エイリアスなどを記述など)は.bashrcに記述することが多いようです。

###bashの設定ファイルの記述

　bashの設定ファイルにはあらかじめ実行しておきたいコマンドを記述しておくだけです。たとえば.bashrcに次のような記述を追加しておくとbashが起動されるたびにそのコマンドが実行されます。

```bash:
alias ls="ls -l"
```

###設定ファイルの読込

　設定ファイルは次回bashを起動したときに読み込まれますがすぐに設定を反映したい場合はsourceコマンドを使用します。

```bash:
# .bashrcを書き換えた場合
source .bashrc

# .bash_profileを書き換えた場合
source .bash_profile
```

##エイリアス

　bashには複雑なコマンドを簡単なコマンドとして登録しておくエイリアスという機能があります。
たとえばlsというコマンドを打つときに毎回「ls -l」と-lコマンドをつけるような人はlsコマンドを

```bash:
alias ls="ls -l"
```

という風に「ls」を「ls -l」のエイリアスとして登録しておくと便利です。

###エイリアスの削除

　エイリアスを削除するにはunaliasを使用します。

```bash:
unalias ls
```

###エイリアスをbashの設定ファイルに登録する

　エイリアスをbashを起動したときに登録するには.bashrcにエイリアスを記述しておきます。

###引数を指定する

　bashではエイリアスに引数を指定することができません。引数を使用するには関数を使用します。

##エイリアスの代替としての関数

　bashでaliasを定義すると難しいコマンドを簡単なコマンドに置き換えることができます。ですがひとつ問題があります。それはエイリアスで作成したコマンドには引数を渡すことができないということです。

　これを解決するために関数を使用します。bashでは関数を定義することができるのでこれを利用します。

　では「cd」コマンドを実行すると同時にファイル一覧を表示してくれるような関数を作成してみます。

```bash:
cd () {
    command cd $1
    ls -l
}
```

　「command」は、Linuxのデフォルトのコマンドである「cd」を呼ぶためのものです。これがないと自分自身を呼び出してしまい無限にループしてしまいます。

　$1で第1引数を受け取ることができます。第2引数は$2、第3引数は$3のようになります。複数の引数を受け取りたい場合は$@で受け取ることもできます。

　すると「cd」コマンドでカレントディレクトリを変更してファイル一覧を表示することができるようになります。

##標準入力に渡す内容をシェルの中で記述する

(CentOS5.7で確認)

　シェルスクリプト(bash)の中で、複数行のテキストを入力して、それをコマンドを標準入力に渡したいという場合があると思います。

　次のように書けば、標準入力に複数行のテキストを渡すことができます。

```bash:
コマンド <<EOF
内容1
内容2
EOF
```

###ftpコマンドでのサンプル

　たとえばftpコマンドでは<b>-n</b>オプションを利用すれば、コマンドを記述してそれを、標準入力に渡すことができます。

```bash:
ftp -n 192.168.1.250 <<EOF
user kimoto ijfie
cd /dir
get file
bye
EOF
```
