<h2>型について学ぼう</h2>

　C言語といえば、<b>型</b>です。Perlではmyで宣言した変数には、あらゆる値を代入できました。C言語では、型に対応する値しか代入できません。

```c:
// int型 整数
int num1 = 1;

// double型 浮動小数点
double num2 = 2.28;

// char型 文字
char ch = 'A';
```

　これは面倒だと思うかもしれません。実際に、めんどうです。けれども、Perlを使う人がCを書く動機って、カリカリにプログラムをスピードアップしたいということですよね。型があるということは、パフォーマンスのためには、非常に役立ちます。

　型があるということは、その値がどんな種類なのかが、最初からわかります。型がなければ、内部の型を調べないといけませんね。これは、パフォーマンスを遅くします。型がわかっているとint型であれば、整数型の演算を行えばよいですし、double型であれば、浮動少数点の演算を行えばよいですね。

　また型はサイズを持ちますので、データを格納している領域のサイズが決定できます。サイズがわかっていると、直接メモリ上の位置を指定してアクセスできるんです。たとえば、int型が4バイトだとします。そして、int型の配列があると考えてください。3番目の位置は「4 × 3」で計算できますね。一瞬でデータのある位置がわかりますね。

　このように型があることによって、計算の速度をものすごく速くすることができます。

　四則演算はPerlと同じです。

```c:
// 足し算
double add = 1 + 2;

// 割り算
double sub = 1 - 2;

// 掛け算
double multi = 2 * 3;

// 割り算
double div = 2.0 / 3.0;

// 余り
double remainder = 2 % 3;

// 整数商
double quotient = 2 / 3;
```

　出力するときは型に応じてフォーマットを指定する必要があります。

```c:
int num1 = 1;
printf("num1 is %d\n", num1);

double num2 = 2.3;
printf("num2 is %f\n", num2);

char ch = 'A';
printf("ch is %c\n", ch);
```

##よくある質問

　よくあるであろう質問にいくつか答えます。

###C言語には文字列型はないんですか

　C言語には文字列型はありません。C言語にあるのはchar型(文字型)だけです。C言語においては、文字列というものは、char型の配列で表現します。配列のところで解説しますが、以下のような感じですね。

```c:
// Hello
char str[6] = {'H', 'e', 'l', 'l', 'o', '\0'};
```

　C言語では文字列の最後には「\0」を設定するという決まりがあります。つまり「Hello」という5文字と「\0」という一文字で、6つの大きさが必要になります。

　これではめんどうすぎるので、簡単な書き方が用意されています。配列の個数を省略して、ダブルクォートで記述できます。

```c:
char str[] = "Hello";
```

　さらにいうと、文字のポインタ型にしてしまうのが、書き方としては一般的です。今は意味がわからないと思います。ポインタのところで解説しますね。

```c:
char* str = "Hello";
```

###配列型やハッシュ型はありますか。

　配列型はあります。

```c:
char nums[3] = {1, 2, 3};
```

　ハッシュ型はありません。ハッシュのように、異なった種類の複数の値を入れておくためには、構造体と呼ばれる機能を使います。これは、構造体のところで解説します。

###他にどんな型がありますか

　符号なし整数「unsigned int」、浮動少数点数「double」などがあります。たくさんあるので、調べてみてくださいね。

##サンプルプログラム

　型の宣言と四則演算を行うサンプルスクリプトです。type.cという名前で保存してください。

```c:
#include <stdio.h>

int main () {
  int num1 = 1 + 2;
  printf("num1 is %d\n", num1);

  double num2 = 2.3 / 1.7;
  printf("num2 is %f\n", num2);

  char ch = 'A';
  printf("ch is %c\n", ch);
  
  return 0;
}
```

　実行してみましょう。&&を使うと、コンパイルして実行が一行で書けます。

```sh:
gcc -o type type.c && ./type
```

　以下のように表示されます。

```
num1 is 3
num2 is 1.352941
ch is A
```
